import unittest
import obd2pids

class OBD2PIDSTest(unittest.TestCase):
	def test(self):
		self.assertListEqual(obd2pids.parseSupportedPIDs([0xBE, 0x1F, 0xA8, 0x13], 0x01), [0x01, 0x03, 0x04, 0x05, 0x06, 0x07, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x13, 0x15, 0x1C, 0x1F, 0x20])
		self.assertListEqual(obd2pids.parseSupportedPIDs([0xBE, 0x1F, 0xA8, 0x13], 0x21), [0x21, 0x23, 0x24, 0x25, 0x26, 0x27, 0x2C, 0x2D, 0x2E, 0x2F, 0x30, 0x31, 0x33, 0x35, 0x3C, 0x3F, 0x40])
		self.assertListEqual(obd2pids.parseResponse(0x00, [0xBE, 0x1F, 0xA8, 0x13]), [0x01, 0x03, 0x04, 0x05, 0x06, 0x07, 0x0C, 0x0D, 0x0E, 0x0F, 0x10, 0x11, 0x13, 0x15, 0x1C, 0x1F, 0x20])

		self.assertAlmostEqual(obd2pids.parseResponse(0x05, [0x3C]), 20)

if __name__ == "__main__":
	unittest.main()